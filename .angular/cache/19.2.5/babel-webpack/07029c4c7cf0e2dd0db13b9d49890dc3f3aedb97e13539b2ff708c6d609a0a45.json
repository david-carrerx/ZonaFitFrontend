{"ast":null,"code":"import _asyncToGenerator from \"/Users/angeldavidlermacarrera/Documents/ZonaFIT/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _LoginPage;\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginPage {\n  constructor(http, loadingCtrl, alertCtrl) {\n    this.http = http;\n    this.loadingCtrl = loadingCtrl;\n    this.alertCtrl = alertCtrl;\n    this.email = \"\";\n    this.password = \"\";\n  }\n  ngOnInit() {}\n  login() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const loading = yield _this.loadingCtrl.create({\n        message: \"Iniciando sesión\"\n      });\n      yield loading.present();\n      _this.http.post('http://localhost:3000/api/auth/login', {\n        email: _this.email,\n        password: _this.password\n      }).subscribe({\n        next: function () {\n          var _ref = _asyncToGenerator(function* (res) {\n            yield loading.dismiss();\n            const alert = yield _this.alertCtrl.create({\n              message: \"Inicio de sesión exitoso\",\n              buttons: ['OK']\n            });\n            yield alert.present();\n          });\n          return function next(_x) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        error: function () {\n          var _ref2 = _asyncToGenerator(function* (e) {\n            yield loading.dismiss();\n            const alert = yield _this.alertCtrl.create({\n              message: \"Error en las credenciales\",\n              buttons: ['OK']\n            });\n          });\n          return function error(_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }()\n      });\n    })();\n  }\n}\n_LoginPage = LoginPage;\n_LoginPage.ɵfac = function LoginPage_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _LoginPage)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.LoadingController), i0.ɵɵdirectiveInject(i2.AlertController));\n};\n_LoginPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _LoginPage,\n  selectors: [[\"app-login\"]],\n  decls: 16,\n  vars: 2,\n  consts: [[1, \"ion-padding\"], [3, \"ngSubmit\"], [\"position\", \"floating\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"expand\", \"full\", \"type\", \"submit\"]],\n  template: function LoginPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \"Iniciar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 0)(5, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_5_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(6, \"ion-item\")(7, \"ion-label\", 2);\n      i0.ɵɵtext(8, \"Correo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"ion-input\", 3);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_9_listener($event) {\n        i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n        return $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"ion-item\")(11, \"ion-label\", 2);\n      i0.ɵɵtext(12, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-input\", 4);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_13_listener($event) {\n        i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n        return $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"ion-button\", 5);\n      i0.ɵɵtext(15, \"Ingresar\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n    }\n  },\n  dependencies: [IonicModule, i2.IonButton, i2.IonContent, i2.IonHeader, i2.IonInput, i2.IonItem, i2.IonLabel, i2.IonTitle, i2.IonToolbar, i2.TextValueAccessor, CommonModule, FormsModule, i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, HttpClientModule],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["IonicModule","CommonModule","FormsModule","HttpClientModule","LoginPage","constructor","http","loadingCtrl","alertCtrl","email","password","ngOnInit","login","_this","_asyncToGenerator","loading","create","message","present","post","subscribe","next","_ref","res","dismiss","alert","buttons","_x","apply","arguments","error","_ref2","e","_x2","i0","ɵɵdirectiveInject","i1","HttpClient","i2","LoadingController","AlertController","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginPage_Template_form_ngSubmit_5_listener","ɵɵtwoWayListener","LoginPage_Template_ion_input_ngModelChange_9_listener","$event","ɵɵtwoWayBindingSet","LoginPage_Template_ion_input_ngModelChange_13_listener","ɵɵadvance","ɵɵtwoWayProperty","IonButton","IonContent","IonHeader","IonInput","IonItem","IonLabel","IonTitle","IonToolbar","TextValueAccessor","i3","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","styles"],"sources":["/Users/angeldavidlermacarrera/Documents/ZonaFIT/frontend/src/app/login/login.page.ts","/Users/angeldavidlermacarrera/Documents/ZonaFIT/frontend/src/app/login/login.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IonicModule, LoadingController, AlertController } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n  standalone: true,\n  imports: [IonicModule, CommonModule, FormsModule, HttpClientModule]\n})\nexport class LoginPage implements OnInit {\n  email: string = \"\";\n  password: string = \"\";\n\n  constructor(\n    private http: HttpClient,\n    private loadingCtrl: LoadingController,\n    private alertCtrl: AlertController\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async login() {\n    const loading = await this.loadingCtrl.create({ message: \"Iniciando sesión\"});\n    await loading.present();\n\n    this.http.post('http://localhost:3000/api/auth/login', {email : this.email, password: this.password})\n      .subscribe({\n        next: async(res: any) => {\n          await loading.dismiss();\n          const alert = await this.alertCtrl.create({ message: \"Inicio de sesión exitoso\", buttons: ['OK']});\n          await alert.present();\n        },\n        error: async(e) => {\n          await loading.dismiss();\n          const alert = await this.alertCtrl.create({ message: \"Error en las credenciales\", buttons: ['OK']});\n\n        }\n      })\n  }\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-title>Iniciar Sesión</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <form (ngSubmit)=\"login()\">\n    <ion-item>\n      <ion-label position=\"floating\">Correo</ion-label>\n      <ion-input type=\"email\" [(ngModel)]=\"email\" name=\"email\" required></ion-input>\n    </ion-item>\n\n    <ion-item>\n      <ion-label position=\"floating\">Contraseña</ion-label>\n      <ion-input type=\"password\" [(ngModel)]=\"password\" name=\"password\" required></ion-input>\n    </ion-item>\n\n    <ion-button expand=\"full\" type=\"submit\">Ingresar</ion-button>\n  </form>\n</ion-content>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}